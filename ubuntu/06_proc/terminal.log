vagrant@ubuntu:~$ 
vagrant@ubuntu:~$ 
vagrant@ubuntu:~$ ls -l
total 4
-rwxr--r-- 1 vagrant vagrant 424 Nov 15 21:19 fake_ps.sh
vagrant@ubuntu:~$ 
vagrant@ubuntu:~$ 
vagrant@ubuntu:~$ cat fake_ps.sh 

#!/bin/bash

for line in $(ls /proc | grep [0-9])
do
	if ! [ -f /proc/$line/task/$line/status ]; then
		continue
	else
		name=$(cat /proc/$line/task/$line/status | grep Name | awk '{print $2}')
		pid=$line
		ppid=$(cat /proc/$line/task/$line/status | grep PPid | awk '{print $2}')
		state=$(cat /proc/1599/task/1599/status | grep State | awk '{print $2}')
		echo "PID=$pid | PPID=$ppid | STATE=$state | NAME=$name"
	fi
done

vagrant@ubuntu:~$ 
vagrant@ubuntu:~$ 
vagrant@ubuntu:~$ ./fake_ps.sh 
PID=1 | PPID=0 | STATE=S | NAME=systemd
PID=10 | PPID=2 | STATE=S | NAME=mm_percpu_wq
PID=108 | PPID=2 | STATE=S | NAME=kstrp
PID=11 | PPID=2 | STATE=S | NAME=rcu_tasks_rude_
PID=111 | PPID=2 | STATE=S | NAME=zswap-shrink
PID=112 | PPID=2 | STATE=S | NAME=kworker/u3:0
PID=117 | PPID=2 | STATE=S | NAME=charger_manager
PID=12 | PPID=2 | STATE=S | NAME=rcu_tasks_trace
PID=1200 | PPID=1 | STATE=S | NAME=VBoxDRMClient
PID=1203 | PPID=1 | STATE=S | NAME=VBoxService
PID=13 | PPID=2 | STATE=S | NAME=ksoftirqd/0
PID=1355 | PPID=1 | STATE=S | NAME=systemd-network
PID=14 | PPID=2 | STATE=S | NAME=rcu_sched
PID=15 | PPID=2 | STATE=S | NAME=migration/0
PID=151 | PPID=2 | STATE=S | NAME=kworker/0:2-cgroup_destroy
PID=152 | PPID=2 | STATE=S | NAME=scsi_eh_2
PID=153 | PPID=2 | STATE=S | NAME=scsi_tmf_2
PID=154 | PPID=2 | STATE=S | NAME=scsi_eh_3
PID=155 | PPID=2 | STATE=S | NAME=scsi_tmf_3
PID=156 | PPID=2 | STATE=S | NAME=ttm_swap
PID=157 | PPID=2 | STATE=S | NAME=scsi_eh_4
PID=1570 | PPID=759 | STATE=S | NAME=sshd
PID=158 | PPID=2 | STATE=S | NAME=irq/18-vmwgfx
PID=159 | PPID=2 | STATE=S | NAME=scsi_tmf_4
PID=1598 | PPID=1570 | STATE=S | NAME=sshd
PID=1599 | PPID=1598 | STATE=S | NAME=bash
PID=16 | PPID=2 | STATE=S | NAME=idle_inject/0
PID=160 | PPID=2 | STATE=S | NAME=card0-crtc0
PID=161 | PPID=2 | STATE=S | NAME=scsi_eh_5
PID=162 | PPID=2 | STATE=S | NAME=card0-crtc1
PID=163 | PPID=2 | STATE=S | NAME=cryptd
PID=164 | PPID=2 | STATE=S | NAME=scsi_tmf_5
PID=165 | PPID=2 | STATE=S | NAME=card0-crtc2
PID=166 | PPID=2 | STATE=S | NAME=scsi_eh_6
PID=167 | PPID=2 | STATE=S | NAME=card0-crtc3
PID=169 | PPID=2 | STATE=S | NAME=card0-crtc4
PID=170 | PPID=2 | STATE=S | NAME=scsi_tmf_6
PID=171 | PPID=2 | STATE=S | NAME=scsi_eh_7
PID=172 | PPID=2 | STATE=S | NAME=card0-crtc5
PID=175 | PPID=2 | STATE=S | NAME=scsi_tmf_7
PID=176 | PPID=2 | STATE=S | NAME=card0-crtc6
PID=18 | PPID=2 | STATE=S | NAME=cpuhp/0
PID=180 | PPID=2 | STATE=S | NAME=card0-crtc7
PID=18000 | PPID=2 | STATE=S | NAME=kworker/u2:2-events_unbound
PID=181 | PPID=2 | STATE=S | NAME=scsi_eh_8
PID=182 | PPID=2 | STATE=S | NAME=scsi_tmf_8
PID=183 | PPID=2 | STATE=S | NAME=scsi_eh_9
PID=1830 | PPID=1 | STATE=S | NAME=snapd
PID=189 | PPID=2 | STATE=S | NAME=scsi_tmf_9
PID=19 | PPID=2 | STATE=S | NAME=kdevtmpfs
PID=192 | PPID=2 | STATE=S | NAME=scsi_eh_10
PID=194 | PPID=2 | STATE=S | NAME=scsi_tmf_10
PID=199 | PPID=2 | STATE=S | NAME=scsi_eh_11
PID=2 | PPID=0 | STATE=S | NAME=kthreadd
PID=20 | PPID=2 | STATE=S | NAME=inet_frag_wq
PID=201 | PPID=2 | STATE=S | NAME=scsi_tmf_11
PID=203 | PPID=2 | STATE=S | NAME=scsi_eh_12
PID=208 | PPID=2 | STATE=S | NAME=scsi_tmf_12
PID=2084 | PPID=2 | STATE=S | NAME=kworker/0:0-events
PID=2085 | PPID=759 | STATE=S | NAME=sshd
PID=21 | PPID=2 | STATE=S | NAME=kauditd
PID=211 | PPID=2 | STATE=S | NAME=scsi_eh_13
PID=2117 | PPID=2085 | STATE=S | NAME=sshd
PID=2118 | PPID=2117 | STATE=S | NAME=bash
PID=212 | PPID=2 | STATE=S | NAME=scsi_tmf_13
PID=214 | PPID=2 | STATE=S | NAME=scsi_eh_14
PID=217 | PPID=2 | STATE=S | NAME=scsi_tmf_14
PID=219 | PPID=2 | STATE=S | NAME=scsi_eh_15
PID=22 | PPID=2 | STATE=S | NAME=khungtaskd
PID=221 | PPID=2 | STATE=S | NAME=scsi_tmf_15
PID=2270 | PPID=2 | STATE=S | NAME=kworker/u2:1-events_unbound
PID=23 | PPID=2 | STATE=S | NAME=oom_reaper
PID=24 | PPID=2 | STATE=S | NAME=writeback
PID=247 | PPID=2 | STATE=S | NAME=kdmflush
PID=25 | PPID=2 | STATE=S | NAME=kcompactd0
PID=26 | PPID=2 | STATE=S | NAME=ksmd
PID=27 | PPID=2 | STATE=S | NAME=khugepaged
PID=273 | PPID=2 | STATE=S | NAME=raid5wq
PID=3 | PPID=2 | STATE=S | NAME=rcu_gp
PID=321 | PPID=2 | STATE=S | NAME=jbd2/dm-0-8
PID=322 | PPID=2 | STATE=S | NAME=ext4-rsv-conver
PID=33401 | PPID=2118 | STATE=S | NAME=fake_ps.sh
PID=393 | PPID=1 | STATE=S | NAME=systemd-journal
PID=4 | PPID=2 | STATE=S | NAME=rcu_par_gp
PID=432 | PPID=2 | STATE=S | NAME=kaluad
PID=433 | PPID=2 | STATE=S | NAME=kmpath_rdacd
PID=434 | PPID=2 | STATE=S | NAME=kmpathd
PID=435 | PPID=2 | STATE=S | NAME=kmpath_handlerd
PID=437 | PPID=1 | STATE=S | NAME=multipathd
PID=439 | PPID=1 | STATE=S | NAME=systemd-udevd
PID=461 | PPID=2 | STATE=S | NAME=iprt-VBoxWQueue
PID=5 | PPID=2 | STATE=S | NAME=slub_flushwq
PID=525 | PPID=2 | STATE=S | NAME=jbd2/sda2-8
PID=529 | PPID=2 | STATE=S | NAME=ext4-rsv-conver
PID=6 | PPID=2 | STATE=S | NAME=netns
PID=620 | PPID=1 | STATE=S | NAME=systemd-resolve
PID=642 | PPID=1 | STATE=S | NAME=cron
PID=644 | PPID=1 | STATE=S | NAME=dbus-daemon
PID=649 | PPID=1 | STATE=S | NAME=networkd-dispat
PID=650 | PPID=1 | STATE=S | NAME=polkitd
PID=653 | PPID=1 | STATE=S | NAME=rsyslogd
PID=656 | PPID=1 | STATE=S | NAME=systemd-logind
PID=658 | PPID=1 | STATE=S | NAME=udisksd
PID=669 | PPID=1 | STATE=S | NAME=agetty
PID=711 | PPID=1 | STATE=S | NAME=ModemManager
PID=73 | PPID=2 | STATE=S | NAME=kintegrityd
PID=74 | PPID=2 | STATE=S | NAME=kblockd
PID=75 | PPID=2 | STATE=S | NAME=blkcg_punt_bio
PID=759 | PPID=1 | STATE=S | NAME=sshd
PID=76 | PPID=2 | STATE=S | NAME=tpm_dev_wq
PID=763 | PPID=1 | STATE=S | NAME=systemd
PID=764 | PPID=763 | STATE=S | NAME=(sd-pam)
PID=77 | PPID=2 | STATE=S | NAME=ata_sff
PID=78 | PPID=2 | STATE=S | NAME=md
PID=79 | PPID=2 | STATE=S | NAME=edac-poller
PID=8 | PPID=2 | STATE=S | NAME=kworker/0:0H-events_highpri
PID=80 | PPID=2 | STATE=S | NAME=devfreq_wq
PID=81 | PPID=2 | STATE=S | NAME=watchdogd
PID=83 | PPID=2 | STATE=S | NAME=kworker/0:1H-kblockd
PID=85 | PPID=2 | STATE=S | NAME=kswapd0
PID=86 | PPID=2 | STATE=S | NAME=ecryptfs-kthrea
PID=88 | PPID=2 | STATE=S | NAME=kthrotld
PID=89 | PPID=2 | STATE=S | NAME=acpi_thermal_pm
PID=91 | PPID=2 | STATE=S | NAME=scsi_eh_0
PID=92 | PPID=2 | STATE=S | NAME=scsi_tmf_0
PID=93 | PPID=2 | STATE=S | NAME=scsi_eh_1
PID=94 | PPID=2 | STATE=S | NAME=scsi_tmf_1
PID=96 | PPID=2 | STATE=S | NAME=vfio-irqfd-clea
PID=98 | PPID=2 | STATE=S | NAME=mld
PID=99 | PPID=2 | STATE=S | NAME=ipv6_addrconf
vagrant@ubuntu:~$ 
vagrant@ubuntu:~$ 
